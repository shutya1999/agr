let code_inputs=document.querySelectorAll(".input-code");for(let e=0;e<code_inputs.length;e++)code_inputs[e].addEventListener("input",(t=>{let o=code_inputs[e],s=code_inputs[e+1],c=null===t.data?"":t.data.replace(regExp_number,"");o.value=c,""===c.trim()||regExp_number.test(c)||(e===code_inputs.length-1?sendCode():s.focus())})),code_inputs[e].addEventListener("keyup",(t=>{8!==t.keyCode&&37!==t.keyCode||void 0!==code_inputs[e-1]&&code_inputs[e-1].focus(),39===t.keyCode&&void 0!==code_inputs[e+1]&&code_inputs[e+1].focus()}));function clearCodeInput(){for(let e=0;e<code_inputs.length;e++)code_inputs[e].value=""}function sendCode(){let e=!0,t=document.querySelector(".cabinet-code");for(let o=0;o<code_inputs.length;o++)if(""===code_inputs[o].value.trim()){e=!1,t.classList.add("has-error");break}e&&(t.classList.remove("has-error"),console.log("Send Code"))}let login_block=document.querySelector(".cabinet-login.login");if(login_block){let e=document.querySelector(".next-step"),t=document.querySelector(".prev-step"),o=document.querySelector(".form-login").querySelector("._js-mask-phone");e.addEventListener("click",(e=>{e.preventDefault(),o.inputmask.isComplete()?(o.closest(".form-group").classList.remove("has-error"),login_block.querySelector(".cabinet-login__step-wrapper").style.setProperty("--step",1),code_inputs[0].focus()):o.closest(".form-group").classList.add("has-error")})),t.addEventListener("click",(e=>{e.preventDefault(),clearCodeInput(),login_block.querySelector(".cabinet-login__step-wrapper").style.setProperty("--step",0),o.value="",o.closest(".form-group").classList.remove("has-error"),o.closest(".form-group").classList.remove("focus")})),document.querySelector(".btn-send-code").addEventListener("click",(e=>{e.preventDefault(),sendCode()}))}if(document.querySelector("#select-city")){new CustomSelect("#select-city",{name:"delivery-city",targetValue:"0",search:!0,options:[["0","Київ"],["1","Харків"],["2","Одеса"],["3","Полтава"]]})}let forms_edit=document.querySelectorAll(".form-edit form");function handlerMap(e){e.closest("._js-order-map").classList.toggle("_map-visible");let t=e.textContent;e.innerHTML=e.dataset.text,e.dataset.text=t}function openHistory(){document.querySelectorAll("._js-history-item .item-visible:not(._init)").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target;t.classList.contains("btn-arrow")?t.closest("._js-history-item").classList.toggle("active"):breakpoint_mob.matches&&(console.log("fff"),t.closest("._js-history-item").classList.add("active"),overlay_popup.classList.add("active"),document.body.classList.add("_hide_scroll"))})),e.classList.add("_init")}))}function closeHistory(e){e.closest("._js-history-item").classList.remove("active"),overlay_popup.classList.remove("active"),document.body.classList.remove("_hide_scroll")}function historyCards(){document.querySelectorAll("._js-show-history-card:not(_init)").forEach((e=>{e.addEventListener("click",(()=>{e.closest(".card").classList.toggle("active")})),e.classList.add("_init")}))}forms_edit.length>0&&forms_edit.forEach((e=>{let t=e.querySelector(".item-top .edit");console.log(t),t.addEventListener("click",(()=>{e.classList.add("_editing")}))})),overlay_popup.addEventListener("click",(()=>{document.querySelectorAll("._js-history-item").forEach((e=>{e.classList.remove("active")}))})),openHistory(),historyCards();