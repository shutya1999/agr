let style_map=[{stylers:[{saturation:-100}]}];const data_city={0:{name:"Україна",lat:48.7363835,lng:28.384574,zoom:6},1:{name:"Київ",lat:50.4021702,lng:30.3926086,zoom:11},2:{name:"Харків",lat:49.9947277,lng:36.1457427,zoom:11},3:{name:"Львів",lat:49.840406,lng:23.9820104,zoom:13}},data_shop={1:[{city:"Київ",name:"АГРОМАТ A",description:"вул. Академіка Булаховського, 4",link:"test-link-1",prod_id:[4,1,2,3],img:"img/index/photo-map_1",lat:50.47559736571341,lng:30.351345341150015},{city:"Київ",name:"АГРОМАТ В",description:"вул. Академіка Булаховського, 2/1",link:"test-link-2",prod_id:[1,2],img:"img/index/photo-map_1",lat:50.47559736571341,lng:30.350799375786238},{city:"Київ",name:"АГРОМАТ",description:"проспект Валерія Лобановського, 120",link:"test-link-3",prod_id:[1],img:"img/index/photo-map_1",lat:50.40826846738166,lng:30.498270530493357}],2:[{city:"Харків",name:"АГРОМАТ",description:"Харків пров. Банний, 1",link:"test-link-4",prod_id:[1],img:"img/index/photo-map_1",lat:49.98598989786035,lng:36.228227326849456},{city:"Харків",name:"АГРОМАТ A",description:"вул. Алчевських, 15",link:"test-link-5",prod_id:[1],img:"img/index/photo-map_1",lat:50.00333099322014,lng:36.24093962700625}],3:[{city:"Львів",name:"АГРОМАТ Б",description:"вул. Б. Хмельницького, 11",link:"test-link-6",prod_id:[1],img:"img/index/photo-map_1",lat:49.84624972110488,lng:24.028823625158203},{city:"Львів",name:"АГРОМАТ",description:"вул. Грабовського, 11",link:"test-link-7",prod_id:[3,5],img:"img/index/photo-map_1",lat:49.834121642607144,lng:24.026758227001636},{city:"Львів",name:"АГРОМАТ",description:"вул. Городницька, 47",link:"test-link-8",prod_id:[7],img:"img/index/photo-map_1",lat:49.862485665331256,lng:24.037317253993532}]};let map;function initMap(e,t){console.log(document.getElementById("map"));let n={zoom:data_city[e].zoom,center:{lat:data_city[e].lat,lng:data_city[e].lng}};const i=new google.maps.InfoWindow({content:"",disableAutoPan:!0});map=new google.maps.Map(document.getElementById("map"),n),map.setOptions({styles:style_map});for(let e in t){const n=t[e].map(((e,t)=>{let n=new google.maps.Marker({position:e,icon:"/img/marker-icon.png"});return n.addListener("click",(()=>{i.setContent(generateMapPrompt(e)),i.open(map,n)})),n}));new markerClusterer.MarkerClusterer({map:map,markers:n})}}function getMarker(e){let t=[];if(0!==e)data_shop[e].forEach((e=>{t.push(e)}));else for(let e in data_shop)data_shop[e].forEach((e=>{t.push(e)}));return t}function moveMap(e){map.panTo(new google.maps.LatLng(data_city[e].lat,data_city[e].lng)),map.setZoom(data_city[e].zoom)}function generateMapPrompt(e){let{name:t,city:n,description:i,link:a}=e;return`\n        <a href="${a}">\n            <div class="map-prompt__city">${n}</div>\n            <div class="map-prompt__name">${t}</div>\n            <div class="map-prompt__description">${i}</div>\n        </a>       \n    `}function generateListShop(e){}if(window.addEventListener("load",(()=>{initMap(0,data_shop)})),null!==document.querySelector("#select_map-city")){let e=new CustomSelect("#select_map-city"),t=new CustomSelect("#select-map-product");document.querySelector("#select_map-city").addEventListener("select.change",(()=>{let n=filterShop(+e.value,+t.value);initMap(+e.value,n),generateListIndex(+e.value,n),setInteractiveMapMargin()})),document.querySelector("#select-map-product").addEventListener("select.change",(()=>{let n=filterShop(+e.value,+t.value);initMap(+e.value,n),generateListIndex(+e.value,n),setInteractiveMapMargin()}))}function filterShop(e,t){let n={};0!==e?n[e]=data_shop[e]:n=data_shop;let i={};if(0!==t){for(let e in n){let a=[],o=n[e];for(let n=0;n<o.length;n++)o[n].prod_id.includes(t)&&(a.push(o[n]),i[e]=a)}return i}return n}function generateListIndex(e,t){let n=document.querySelector("._js-map_list"),i=0,a=data_city[e].name;if(null!==n){n.innerHTML="";let e=0;if(!isEmptyObject(t))for(let a in t){let o=t[a];for(let t=0;t<o.length;t++){if(e<10){let{name:i,city:a,description:l,link:p,img:s}=o[t],r=`\n                            <div class="list-item">\n                                <a href="${p}" class="link">\n                                    <p class="city">${a}</p>\n                                    <p class="name">${i}</p>\n                                    <p class="description">${l}</p>\n                                    <span class="arrow">Деталі</span>\n                                    <span class="img">\n                                        <picture>\n                                            <source srcset="${s}.webp" type="image/webp">\n                                            <img src="${s}.jpg" loading="lazy" alt="">\n                                        </picture>\n                                    </span>\n                                </a>\n                            </div>\n                        `;n.insertAdjacentHTML("beforeend",r),e++}i++}}document.querySelector("._js-total_shop_find ._city").innerHTML=a,document.querySelector("._js-total_shop_find ._count").innerHTML=i}}